WandB initialized: vivid-dream-23 (latavxq3)
[2025-05-14 15:21:50,886][__main__][INFO] - Update 1/100
[2025-05-14 15:21:50,887][__main__][INFO] - Collecting 8 episodes...
[2025-05-14 15:21:50,889][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:50,890][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:50,890][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:50,903][__main__][INFO] - SELL order filled: 93 shares @ $9.9500
[2025-05-14 15:21:50,904][__main__][INFO] - Market order 1000 (sell) filled: 93 shares @ $9.9500
[2025-05-14 15:21:50,905][__main__][INFO] - Reached end of data
[2025-05-14 15:21:50,905][__main__][INFO] - Episode 1 finished: 1 steps, reward: 1850.70, PnL: $1850.70
[2025-05-14 15:21:50,905][__main__][INFO] - Episode finished - PnL: $1850.70 (1.85%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:50,907][__main__][INFO] - Episode 1: reward=-0.10, length=1
[2025-05-14 15:21:50,909][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:50,910][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:50,911][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:50,921][__main__][INFO] - SELL order filled: 68 shares @ $9.9500
[2025-05-14 15:21:50,922][__main__][INFO] - Market order 1000 (sell) filled: 68 shares @ $9.9500
[2025-05-14 15:21:50,923][__main__][INFO] - Reached end of data
[2025-05-14 15:21:50,923][__main__][INFO] - Episode 2 finished: 1 steps, reward: 1353.20, PnL: $1353.20
[2025-05-14 15:21:50,923][__main__][INFO] - Episode finished - PnL: $1353.20 (1.35%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:50,925][__main__][INFO] - Episode 2: reward=-0.10, length=1
[2025-05-14 15:21:50,928][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:50,929][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:50,930][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:50,940][__main__][INFO] - SELL order filled: 8 shares @ $9.9500
[2025-05-14 15:21:50,941][__main__][INFO] - Market order 1000 (sell) filled: 8 shares @ $9.9500
[2025-05-14 15:21:50,941][__main__][INFO] - Reached end of data
[2025-05-14 15:21:50,942][__main__][INFO] - Episode 3 finished: 1 steps, reward: 159.20, PnL: $159.20
[2025-05-14 15:21:50,942][__main__][INFO] - Episode finished - PnL: $159.20 (0.16%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:50,943][__main__][INFO] - Episode 3: reward=-0.10, length=1
[2025-05-14 15:21:50,945][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:50,946][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:50,947][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:50,961][__main__][INFO] - SELL order filled: 1 shares @ $9.9500
[2025-05-14 15:21:50,962][__main__][INFO] - Market order 1000 (sell) filled: 1 shares @ $9.9500
[2025-05-14 15:21:50,962][__main__][INFO] - Reached end of data
[2025-05-14 15:21:50,963][__main__][INFO] - Episode 4 finished: 1 steps, reward: 19.90, PnL: $19.90
[2025-05-14 15:21:50,963][__main__][INFO] - Episode finished - PnL: $19.90 (0.02%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:50,965][__main__][INFO] - Episode 4: reward=-0.10, length=1
[2025-05-14 15:21:50,966][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:50,967][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:50,968][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:50,980][__main__][INFO] - BUY order filled: 36 shares @ $10.0500
[2025-05-14 15:21:50,981][__main__][INFO] - Market order 1000 (buy) filled: 36 shares @ $10.0500
[2025-05-14 15:21:50,982][__main__][INFO] - Reached end of data
[2025-05-14 15:21:50,983][__main__][INFO] - Episode 5 finished: 1 steps, reward: 0.00, PnL: $0.00
[2025-05-14 15:21:50,983][__main__][INFO] - Episode finished - PnL: $0.00 (0.00%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:50,984][__main__][INFO] - Episode 5: reward=-0.10, length=1
[2025-05-14 15:21:50,986][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:50,986][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:50,987][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:50,996][__main__][INFO] - SELL order filled: 86 shares @ $9.9500
[2025-05-14 15:21:50,997][__main__][INFO] - Market order 1000 (sell) filled: 86 shares @ $9.9500
[2025-05-14 15:21:50,998][__main__][INFO] - Reached end of data
[2025-05-14 15:21:50,998][__main__][INFO] - Episode 6 finished: 1 steps, reward: 1711.40, PnL: $1711.40
[2025-05-14 15:21:50,998][__main__][INFO] - Episode finished - PnL: $1711.40 (1.71%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:51,000][__main__][INFO] - Episode 6: reward=-0.10, length=1
[2025-05-14 15:21:51,002][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:51,003][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:51,003][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:51,014][__main__][INFO] - BUY order filled: 17 shares @ $10.0500
[2025-05-14 15:21:51,015][__main__][INFO] - Market order 1000 (buy) filled: 17 shares @ $10.0500
[2025-05-14 15:21:51,016][__main__][INFO] - Reached end of data
[2025-05-14 15:21:51,016][__main__][INFO] - Episode 7 finished: 1 steps, reward: 0.00, PnL: $0.00
[2025-05-14 15:21:51,016][__main__][INFO] - Episode finished - PnL: $0.00 (0.00%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:51,018][__main__][INFO] - Episode 7: reward=-0.10, length=1
[2025-05-14 15:21:51,021][__main__][WARNING] - WARNING: Could not find valid price data, using default values
[2025-05-14 15:21:51,022][__main__][INFO] - Market initialized: Price=$10.0000, Bid=$9.9500, Ask=$10.0500, Spread=$0.1000
[2025-05-14 15:21:51,023][__main__][INFO] - Resetting to timestamp: None
[2025-05-14 15:21:51,034][__main__][INFO] - SELL order filled: 94 shares @ $9.9500
[2025-05-14 15:21:51,034][__main__][INFO] - Market order 1000 (sell) filled: 94 shares @ $9.9500
[2025-05-14 15:21:51,036][__main__][INFO] - Reached end of data
[2025-05-14 15:21:51,036][__main__][INFO] - Episode 8 finished: 1 steps, reward: 1870.60, PnL: $1870.60
[2025-05-14 15:21:51,036][__main__][INFO] - Episode finished - PnL: $1870.60 (1.87%), Win Rate: 0.0%, Trades: 0
[2025-05-14 15:21:51,038][__main__][INFO] - Episode 8: reward=-0.10, length=1
[2025-05-14 15:21:51,039][__main__][INFO] - Computing advantages - rewards: torch.Size([8]), values: torch.Size([8, 1]), dones: torch.Size([8])
[2025-05-14 15:21:51,040][__main__][INFO] - After reshaping - rewards: (8, 1), values: (8, 1), dones: (8, 1)
[2025-05-14 15:21:51,041][__main__][INFO] - Computed - advantages: torch.Size([8, 1]), returns: torch.Size([8, 1])
[2025-05-14 15:21:51,041][__main__][INFO] - Buffer sizes - buffer: 8, advantages: (8, 1)
Error logging gradients: 'WandbCallback' object has no attribute 'logger'
[2025-05-14 15:21:51,594][__main__][INFO] - Elapsed time: 0.71s
Error executing job with overrides: ['wandb.enabled=true']
Traceback (most recent call last):
  File "C:\Users\Fx\PycharmProjects\fx-ai\main.py", line 190, in <module>
    run_training()
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\main.py", line 94, in decorated_main
    _run_hydra(
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\_internal\utils.py", line 394, in _run_hydra
    _run_app(
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\_internal\utils.py", line 457, in _run_app
    run_and_report(
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\_internal\utils.py", line 223, in run_and_report
    raise ex
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\_internal\utils.py", line 220, in run_and_report
    return func()
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\_internal\utils.py", line 458, in <lambda>
    lambda: hydra.run(
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\_internal\hydra.py", line 132, in run
    _ = ret.return_value
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\core\utils.py", line 260, in return_value
    raise self._return_value
  File "C:\Users\Fx\AppData\Local\pypoetry\Cache\virtualenvs\fx-ai-yUieqIVe-py3.10\lib\site-packages\hydra\core\utils.py", line 186, in run_job
    ret.return_value = task_function(task_cfg)
  File "C:\Users\Fx\PycharmProjects\fx-ai\main.py", line 171, in run_training
    training_stats = trainer.train(cfg.training.total_updates)
  File "C:\Users\Fx\PycharmProjects\fx-ai\agent\ppo_agent.py", line 545, in train
    callback.on_update_iteration_end(self, update, update_metrics, rollout_stats)
  File "C:\Users\Fx\PycharmProjects\fx-ai\agent\wandb_callback.py", line 363, in on_update_iteration_end
    self._safe_wandb_log({
  File "C:\Users\Fx\PycharmProjects\fx-ai\agent\wandb_callback.py", line 381, in _safe_wandb_log
    self.logger.warning(f"Adjusted step from {step} to {current_step} to maintain monotonicity")
AttributeError: 'WandbCallback' object has no attribute 'logger'
